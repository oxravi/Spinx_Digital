(self.AMP=self.AMP||[]).push({m:0,v:"2110082201002",n:"amp-accordion",ev:"0.1",l:true,f:function(AMP,_){"use strict";function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var e=b[c];if(e&&e.Math==Math)return}(function(){throw Error("Cannot find global object")})()}ca(this);"function"===typeof Symbol&&Symbol("x");var m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var da={a:!0},p={};try{p.__proto__=da;n=p.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q=m;function r(a,b,c,e){return function(d){return t(d,a,b,c,e)}}function t(a,b,c,e,d){a:{var f=a-0;if(0>=f)a=0;else if(1<=f)a=1;else{for(var g=0,h=1,k=0,l=0;8>l;l++){k=u(f,b,e);var v=(u(f+1e-6,b,e)-k)/1e-6;if(1e-6>Math.abs(k-a)){a=f;break a}if(1e-6>Math.abs(v))break;else k<a?g=f:h=f,f-=(k-a)/v}for(l=0;1e-6<Math.abs(k-a)&&8>l;l++)k<a?(g=f,f=(f+h)/2):(h=f,f=(f+g)/2),k=u(f,b,e);a=f}}0==a?d=0:1==a?d=1:(b=w(0,c,a),c=w(c,d,a),d=w(d,1,a),b=w(b,c,a),c=w(c,d,a),d=w(b,c,a));return d}function u(a,b,c){if(0==a)return 0;if(1==a)return 1;var e=w(0,b,a),d=w(b,c,a),f=w(c,1,a);e=w(e,d,a);d=w(d,f,a);return w(e,d,a)}function w(a,b,c){return a+c*(b-a)}var ea={linear:function(a){return a},ease:function(a){return t(a,.25,.1,.25,1)},"ease-in":function(a){return t(a,.42,0,1,1)},"ease-out":function(a){return t(a,0,0,.58,1)},"ease-in-out":function(a){return t(a,.42,0,.58,1)}};function x(a){if(!a)return null;if("string"==typeof a){if(-1!=a.indexOf("cubic-bezier")){var b=a.match(/cubic-bezier\((.+)\)/);if(b&&(b=b[1].split(",").map(parseFloat),4==b.length)){for(var c=0;4>c;c++)if(isNaN(b[c]))return null;return r(b[0],b[1],b[2],b[3])}return null}return ea[a]}return a}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function fa(a,b,c){for(;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function ha(a,b){var c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)&&c.push(a);return c}function ia(a){return ha(a,(function(b){if("string"==typeof b)var c=b;else b.nodeType===Node.ELEMENT_NODE&&(c=b.tagName);b=c&&c.toLowerCase().startsWith("i-")?!0:b.nodeType!==Node.ELEMENT_NODE?!1:b.hasAttribute("placeholder")||b.hasAttribute("fallback")||b.hasAttribute("overflow");return!b}))}var y={bubbles:!0,cancelable:!0};function ja(a){var b=null,c="";var e=arguments;var d="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];e=d?d.call(e):{next:aa(e)};for(d=e.next();!d.done;d=e.next())if(d=d.value,d instanceof Error&&!b){var f=b=void 0;if(null==(f=Object.getOwnPropertyDescriptor(d,"message"))?0:f.writable)b=d;else{f=d.stack;var g=Error(d.message);for(b in d)g[b]=d[b];g.stack=f;b=g}}else c&&(c+=" "),c+=d;b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function ka(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];c=ja.apply(null,c);c.name=a||c.name;var d,f;null==(f=(d=self).__AMP_REPORT_ERROR)||f.call(d,c)}var z,A="Webkit webkit Moz moz ms O o".split(" ");function B(a,b,c){if(b.startsWith("--"))return b;z||(z=Object.create(null));var e=z[b];if(!e||c){e=b;if(void 0===a[b]){var d=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<A.length;f++){var g=A[f]+d;if(void 0!==a[g]){d=g;break a}}d=""}var h=d;void 0!==a[h]&&(e=h)}c||(z[b]=e)}return e}function C(a,b,c){(b=B(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function D(a,b){for(var c in b)C(a,c,b[c])}function E(a,b){return function(c,e){for(var d in b){var f=d;"display"===f&&ka("STYLE","`display` style detected. You must use toggle instead.");C(a,f,b[d](c,e))}}}function F(a,b){return function(c){return a+(b-a)*c}}function G(a){return function(b){return a(b)+"px"}}var H=self.AMP_CONFIG||{},la=("string"==typeof H.cdnProxyRegex?new RegExp(H.cdnProxyRegex):H.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function I(a){if(self.document&&self.document.head&&(!self.location||!la.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}H.cdnUrl||I("runtime-host");H.geoApiUrl||I("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var J=self.__AMP_LOG;function K(){throw Error("failed to call initLogConstructor")}function L(){J.user||(J.user=K());return J.user}function M(){return J.dev||(J.dev=K())}function O(a,b,c){L().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ma(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function P(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return Q(a,b)}function na(a){a=oa(a);a=oa(a);a=a.isSingleDoc()?a.win:a;return pa(a,"action")?Q(a,"action"):null}function oa(a){return a.nodeType?P((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Q(a,b){pa(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function pa(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function qa(){}function R(a){this.A=a;this.D=P(self,"vsync");this.I=null;this.h=[]}function ra(a,b,c){var e=sa;return new R(a).setCurve(e).add(0,b,1).start(c)}R.prototype.setCurve=function(a){a&&(this.I=x(a));return this};R.prototype.add=function(a,b,c,e){this.h.push({delay:a,func:b,duration:c,curve:x(e)});return this};R.prototype.start=function(a){return new S(this.D,this.A,this.h,this.I,a)};function S(a,b,c,e,d){this.D=a;this.A=b;this.h=[];for(b=0;b<c.length;b++){var f=c[b];this.h.push({delay:f.delay,func:f.func,duration:f.duration,curve:f.curve||e,started:!1,completed:!1})}this.O=d;this.T=Date.now();this.F=!0;this.L={};c=new ma;this.K=c.promise;this.S=c.resolve;this.R=c.reject;this.M=this.D.createAnimTask(this.A,{mutate:this.U.bind(this)});this.D.canAnimate(this.A)?this.M(this.L):(M().warn("Animation","cannot animate"),T(this,!1,0))}S.prototype.then=function(a,b){return a||b?this.K.then(a,b):this.K};S.prototype.thenAlways=function(a){a=a||qa;return this.then(a,a)};S.prototype.halt=function(a){T(this,!1,a||0)};function T(a,b,c){if(a.F){a.F=!1;if(0!=c){1<a.h.length&&a.h.sort((function(d,f){return d.delay+d.duration-(f.delay+f.duration)}));try{if(0<c)for(c=0;c<a.h.length;c++)a.h[c].func(1,!0);else for(var e=a.h.length-1;0<=e;e--)a.h[e].func(0,!1)}catch(d){M().error("Animation","completion failed: "+d,d),b=!1}}b?a.S():a.R()}}S.prototype.U=function(){if(this.F){for(var a=Date.now(),b=Math.min((a-this.T)/this.O,1),c=0;c<this.h.length;c++){var e=this.h[c];!e.started&&b>=e.delay&&(e.started=!0)}for(c=0;c<this.h.length;c++)if(e=this.h[c],e.started&&!e.completed)a:{var d;if(0<e.duration){var f=d=Math.min((b-e.delay)/e.duration,1);if(e.curve&&1!=f)try{f=e.curve(d)}catch(g){M().error("Animation","step curve failed: "+g,g);T(this,!1,0);break a}}else f=d=1;1==d&&(e.completed=!0);try{e.func(f,e.completed)}catch(g){M().error("Animation","step mutate failed: "+g,g),T(this,!1,0)}}1==b?T(this,!0,0):this.D.canAnimate(this.A)?this.M(this.L):(M().warn("Animation","cancel animation"),T(this,!1,0))}};new Set(["c","v","a","ad"]);var ta=r(.47,0,.745,.715),sa=r(.39,.575,.565,1);function U(a){var b=AMP.BaseElement.call(this,a)||this;b.C=[];b.G=null;b.B=null;b.H=!1;b.o=null;b.j=null;b.J=a.id?a.id:Math.floor(100*Math.random());return b}var V=AMP.BaseElement;U.prototype=ba(V.prototype);U.prototype.constructor=U;if(q)q(U,V);else for(var W in V)if("prototype"!=W)if(Object.defineProperties){var ua=Object.getOwnPropertyDescriptor(V,W);ua&&Object.defineProperty(U,W,ua)}else U[W]=V[W];U.W=V.prototype;U.prerenderAllowed=function(){return!0};U.prototype.isLayoutSupported=function(a){return"container"==a};U.prototype.buildCallback=function(){var a=this;this.j=na(this.element);this.H=this.element.hasAttribute("disable-session-states");this.G=va(this);this.B=wa(this);this.o=ia(this.element);this.o.forEach((function(b,c){O("section"==b.tagName.toLowerCase(),"Sections should be enclosed in a <section> tag, See https://github.com/ampproject/amphtml/blob/main/extensions/amp-accordion/amp-accordion.md. Found in: %s",a.element);var e=b.children;O(2==e.length,"Each section must have exactly two children. See https://github.com/ampproject/amphtml/blob/main/extensions/amp-accordion/amp-accordion.md. Found in: %s",a.element);var d=e["0"],f=e["1"];f.classList.add("i-amphtml-accordion-content");var g=f.getAttribute("id");g||(g=a.J+"_AMP_content_"+c,f.setAttribute("id",g));var h=d.getAttribute("id");h||(h=a.J+"_AMP_header_"+c,d.setAttribute("id",h));a.registerAction("toggle",(function(l){return X(a,l)}));a.registerAction("expand",(function(l){return X(a,l)}));a.registerAction("collapse",(function(l){return X(a,l)}));a.j.addToAllowlist("amp-accordion",["toggle","expand","collapse"],["email"]);new a.win.MutationObserver((function(l){xa(a,l)})).observe(b,{attributes:!0,attributeFilter:["data-expand"]});a.B[g]?b.setAttribute("expanded",""):!1===a.B[g]&&b.removeAttribute("expanded");a.mutateElement((function(){}));O(!b.hasAttribute("[expanded]")&&!b.hasAttribute("data-amp-bind-expanded"),'The "expanded" attribute cannot be used with amp-bind in version 0.1 of amp-accordion. Please bind to [data-expand] instead. Found in: %s',a.element);var k=b.hasAttribute("expanded");d.classList.add("i-amphtml-accordion-header");d.hasAttribute("role")||d.setAttribute("role","button");d.setAttribute("aria-controls",g);d.setAttribute("aria-expanded",String(k));d.hasAttribute("tabindex")||d.setAttribute("tabindex",0);a.C.push(d);f.setAttribute("aria-labelledby",h);f.hasAttribute("role")||f.setAttribute("role","region");O(0==a.j.hasAction(d,"tap",b),"amp-accordion headings should not have tap actions registered.");d.addEventListener("click",a.N.bind(a));d.addEventListener("keydown",a.P.bind(a))}))};function X(a,b){var c=b.args,e=b.method,d=b.trust,f=void 0;"expand"===e?f=!0:"collapse"===e&&(f=!1);if(c){var g=c.section,h=a.getAmpDoc().getElementById(g);h=L().assertElement(h);O(h,"No element found with id: %s",g);Y(a,h,d,f)}else for(c=0;c<a.o.length;c++)Y(a,a.o[c],d,f)}function va(a){var b=a.element.id||a.element.getResourceId();a=a.win.location.href;var c=a.indexOf("#");a=-1==c?a:a.substring(0,c);return"amp-"+b+"-"+a}function wa(a){if(a.H)return{};try{var b=a.win.sessionStorage.getItem(a.G);return b?JSON.parse(b):{}}catch(c){return M().fine("AMP-ACCORDION","Error setting session state: %s, %s",c.message,c.stack),{}}}function ya(a){if(!a.H){var b=JSON.stringify(a.B);try{a.win.sessionStorage.setItem(a.G,b)}catch(c){M().fine("AMP-ACCORDION","Error setting session state: %s, %s",c.message,c.stack)}}}function Z(a,b,c,e){var d=a.win;var f="accordionSection."+b;var g={};var h={detail:g};Object.assign(h,void 0);"function"==typeof d.CustomEvent?f=new d.CustomEvent(f,h):(d=d.document.createEvent("CustomEvent"),d.initCustomEvent(f,!!h.bubbles,!!h.cancelable,g),f=d);a.j.trigger(c,b,f,e);a=a.element;c=a.ownerDocument.createEvent("Event");c.data={};c.initEvent(b,y.bubbles,y.cancelable);a.dispatchEvent(c)}function Y(a,b,c,e){var d=b.children,f=d[0];d=d[1].getAttribute("id");var g=b.hasAttribute("expanded"),h=void 0==e?!b.hasAttribute("expanded"):e;h&&b.hasAttribute("expanded")||!h&&!b.hasAttribute("expanded")||(a.element.hasAttribute("animate")?h?(f.setAttribute("aria-expanded","true"),za(a,b,c),a.element.hasAttribute("expand-single-section")&&a.o.forEach((function(k){k!=b&&(Aa(a,k,c),k.children[0].setAttribute("aria-expanded","false"))}))):(f.setAttribute("aria-expanded","false"),Aa(a,b,c)):a.mutateElement((function(){h?(Z(a,"expand",b,c),b.setAttribute("expanded",""),f.setAttribute("aria-expanded","true"),a.element.hasAttribute("expand-single-section")&&a.o.forEach((function(k){k!=b&&(k.hasAttribute("expanded")&&(Z(a,"collapse",k,c),k.removeAttribute("expanded")),k.children[0].setAttribute("aria-expanded","false"))}))):(Z(a,"collapse",b,c),b.removeAttribute("expanded"),f.setAttribute("aria-expanded","false"))}),b),a.B[d]=!g,ya(a))}function za(a,b,c){var e,d,f,g,h,k=b.children[1];a.measureMutateElement((function(){e=b.offsetWidth;var l=B(k.style,"width",void 0);h=l?l.startsWith("--")?k.style.getPropertyValue(l):k.style[l]:void 0}),(function(){var N,l={position:"fixed",width:e+"px",opacity:"0"},v=k.style;for(N in l)v.setProperty(B(v,N),String(l[N]),"important");b.hasAttribute("expanded")||b.setAttribute("expanded","")})).then((function(){return a.measureMutateElement((function(){d=b.offsetHeight;f=k.offsetHeight;var l=a.getViewport().getHeight();g=Ba(Math.abs(f),l)}),(function(){D(b,{overflow:"hidden",height:d+"px"});D(k,{position:"",opacity:"",width:h})}))})).then((function(){var l=new R(a.element);l.setCurve(ta);l.add(0,E(b,{height:G(F(d,d+f))}),1);l.add(0,E(k,{opacity:F(0,1)}),1);return l.start(g).thenAlways((function(){a.mutateElement((function(){Z(a,"expand",b,c);D(b,{overflow:"",height:""});D(k,{opacity:""})}))}))}))}function Aa(a,b,c){var e,d,f,g=b.firstElementChild;a.measureMutateElement((function(){e=b.offsetHeight;d=g.offsetHeight;var h=a.getViewport().getSize().height;f=Ba(Math.abs(e),h)}),(function(){D(b,{overflow:"hidden"})})).then((function(){return ra(b,E(b,{height:G(F(e,d))}),f).thenAlways((function(){return a.mutateElement((function(){b.hasAttribute("expanded")&&(Z(a,"collapse",b,c),b.removeAttribute("expanded"));D(b,{height:"",overflow:""})}))}))}))}function Ba(a,b){var c=void 0===c?200:c;var e=void 0===e?500:e;return Math.min(Math.max(Math.abs(a)/b*e,c),e)}U.prototype.N=function(a){Ca(this,a)&&(a.preventDefault(),Y(this,a.currentTarget.parentElement,3))};function Ca(a,b){var c=b.target;b=b.currentTarget;var e=!!fa(c,(function(f){return"A"==f.tagName}),b),d=a.j.hasAction(c,"tap",b);return!e&&!d}U.prototype.P=function(a){if(!a.defaultPrevented)switch(a.key){case"ArrowUp":case"ArrowDown":var b=this.C.indexOf(a.currentTarget);if(-1!==b){a.preventDefault();a=(b+("ArrowUp"==a.key?-1:1))%this.C.length;0>a&&(a+=this.C.length);try{this.C[a].focus()}catch(c){}}break;case"Enter":case" ":a.target==a.currentTarget&&(a.preventDefault(),Y(this,a.currentTarget.parentElement,3))}};function xa(a,b){b.forEach((function(c){var e=c.target,d=e.hasAttribute("data-expand");e.hasAttribute("expanded")!==d&&Y(a,e,2,d)}))}U.prototype.V=function(){return this.j};AMP.registerElement("amp-accordion",U,"amp-accordion>section>:last-child{display:none!important}amp-accordion>section[expanded]>:last-child{display:block!important}.i-amphtml-accordion-content,.i-amphtml-accordion-header{margin:0}.i-amphtml-accordion-header{cursor:pointer;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}amp-accordion>section:not([expanded]) .i-amphtml-media-component,amp-accordion>section:not([expanded]) .i-amphtml-media-component *{display:none!important;visibility:hidden!important}\n/*# sourceURL=/extensions/amp-accordion/0.1/amp-accordion.css*/")}});//# sourceMappingURL=amp-accordion-0.1.js.map